<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="share">点击分享</button>
  <p>点击分享</p>
  
  <!-- <script type="text/javascript" src="./dist/index.js"></script> -->
  <script type="module">
    // let NativeShare = require('./dist/index.js')
    import NativeShare from './index.js'
    // console.log('NativeShare', NativeShare);

    var nativeShare = new NativeShare()
    nativeShare.setShareData({
      link: 'https://www.360.cn',
      icon: 'https://p2.ssl.qhimg.com/t01d072a1cbef3e4d5d.png',
      title: '分享标题',
    })
    function share() {
      try {
        // 唤起浏览器原生分享组件(如果在微信中不会唤起，此时call方法只会设置文案。类似setShareData)
        nativeShare.call('wechatTimeline')
      } catch (err) {
        alert('main,err');
        // 分享失败，唤起微信app
        location.href = 'weixin://'
      }
    }
    document.getElementById('share').onclick = share
  </script>
</body>
</html>
